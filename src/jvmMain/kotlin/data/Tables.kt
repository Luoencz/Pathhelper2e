package data

val perceptionTable = """-1 +9 +8 +5 +2 +0
0 +10 +9 +6 +3 +1
1 +11 +10 +7 +4 +2
2 +12 +11 +8 +5 +3
3 +14 +12 +9 +6 +4
4 +15 +14 +11 +8 +6
5 +17 +15 +12 +9 +7
6 +18 +17 +14 +11 +8
7 +20 +18 +15 +12 +10
8 +21 +19 +16 +13 +11
9 +23 +21 +18 +15 +12
10 +24 +22 +19 +16 +14
11 +26 +24 +21 +18 +15
12 +27 +25 +22 +19 +16
13 +29 +26 +23 +20 +18
14 +30 +28 +25 +22 +19
15 +32 +29 +26 +23 +20
16 +33 +30 +28 +25 +22
17 +35 +32 +29 +26 +23
18 +36 +33 +30 +27 +24
19 +38 +35 +32 +29 +26
20 +39 +36 +33 +30 +27
21 +41 +38 +35 +32 +28
22 +43 +39 +36 +33 +30
23 +44 +40 +37 +34 +31
24 +46 +42 +38 +36 +32""".toStatisticsTable(
    tiers = StatTier.values().toList()
) { it.toInt() }.toMutableMap()

private fun <T> String.toStatisticsTable(tiers: List<StatTier>, parser: (String) -> T) =
    lines().associate { line ->
        val values = line.split(" ")
        values[0].toInt() to tiers.mapIndexed { index, it ->
            it to parser(values[index + 1])
        }.toMap()
    }

val skillTable = """-1 +8 +5 +4 +2 +1
0 +9 +6 +5 +3 +2
1 +10 +7 +6 +4 +3
2 +11 +8 +7 +5 +4
3 +13 +10 +9 +7 +5
4 +15 +12 +10 +8 +7
5 +16 +13 +12 +10 +8
6 +18 +15 +13 +11 +9
7 +20 +17 +15 +13 +11
8 +21 +18 +16 +14 +12
9 +23 +20 +18 +16 +13
10 +25 +22 +19 +17 +15
11 +26 +23 +21 +19 +16
12 +28 +25 +22 +20 +17
13 +30 +27 +24 +22 +19
14 +31 +28 +25 +23 +20
15 +33 +30 +27 +25 +21
16 +35 +32 +28 +26 +23
17 +36 +33 +30 +28 +24
18 +38 +35 +31 +29 +25
19 +40 +37 +33 +31 +27
20 +41 +38 +34 +32 +28
21 +43 +40 +36 +34 +29
22 +45 +42 +37 +35 +31
23 +46 +43 +38 +36 +32
24 +48 +45 +40 +38 +33""".toStatisticsTable(
    tiers = StatTier.values().toList()
) { it.toInt() }.toMutableMap()

val abilitiesTable = """-1 +3 +3 +2 +0
0 +3 +3 +2 +0
1 +5 +4 +3 +1
2 +5 +4 +3 +1
3 +5 +4 +3 +1
4 +6 +5 +3 +2
5 +6 +5 +4 +2
6 +7 +5 +4 +2
7 +7 +6 +4 +2
8 +7 +6 +4 +3
9 +7 +6 +4 +3
10 +8 +7 +5 +3
11 +8 +7 +5 +3
12 +8 +7 +5 +4
13 +9 +8 +5 +4
14 +9 +8 +5 +4
15 +9 +8 +6 +4
16 +10 +9 +6 +5
17 +10 +9 +6 +5
18 +10 +9 +6 +5
19 +11 +10 +6 +5
20 +11 +10 +7 +6
21 +11 +10 +7 +6
22 +11 +10 +8 +6
23 +11 +10 +8 +6
24 +13 +12 +9 +7""".toStatisticsTable(
    tiers = listOf(StatTier.Extreme, StatTier.High, StatTier.Moderate, StatTier.Low)
) { it.toInt() }.toMutableMap()

val acTable = """-1 18 15 14 12
0 19 16 15 13
1 19 16 15 13
2 21 18 17 15
3 22 19 18 16
4 24 21 20 18
5 25 22 21 19
6 27 24 23 21
7 28 25 24 22
8 30 27 26 24
9 31 28 27 25
10 33 30 29 27
11 34 31 30 28
12 36 33 32 30
13 37 34 33 31
14 39 36 35 33
15 40 37 36 34
16 42 39 38 36
17 43 40 39 37
18 45 42 41 39
19 46 43 42 40
20 48 45 44 42
21 49 46 45 43
22 51 48 47 45
23 52 49 48 46
24 54 51 50 48""".toStatisticsTable(
    tiers = listOf(StatTier.Extreme, StatTier.High, StatTier.Moderate, StatTier.Low)
) { it.toInt() }.toMutableMap()

val savingThrowsTable = """-1 +9 +8 +5 +2 +0
0 +10 +9 +6 +3 +1
1 +11 +10 +7 +4 +2
2 +12 +11 +8 +5 +3
3 +14 +12 +9 +6 +4
4 +15 +14 +11 +8 +6
5 +17 +15 +12 +9 +7
6 +18 +17 +14 +11 +8
7 +20 +18 +15 +12 +10
8 +21 +19 +16 +13 +11
9 +23 +21 +18 +15 +12
10 +24 +22 +19 +16 +14
11 +26 +24 +21 +18 +15
12 +27 +25 +22 +19 +16
13 +29 +26 +23 +20 +18
14 +30 +28 +25 +22 +19
15 +32 +29 +26 +23 +20
16 +33 +30 +28 +25 +22
17 +35 +32 +29 +26 +23
18 +36 +33 +30 +27 +24
19 +38 +35 +32 +29 +26
20 +39 +36 +33 +30 +27
21 +41 +38 +35 +32 +28
22 +43 +39 +36 +33 +30
23 +44 +40 +37 +34 +31
24 +46 +42 +38 +36 +32""".toStatisticsTable(
    tiers = listOf(StatTier.Extreme, StatTier.High, StatTier.Moderate, StatTier.Low, StatTier.Terrible)
) { it.toInt() }.toMutableMap()

val hpTable = """-1 9 8 7 6 5
0 20 17 15 13 11
1 26 24 20 16 14
2 40 36 30 25 21
3 59 53 45 37 31
4 78 72 60 48 42
5 97 91 75 59 53
6 123 115 95 75 67
7 148 140 115 90 82
8 173 165 135 105 97
9 198 190 155 120 112
10 223 215 175 135 127
11 248 240 195 150 142
12 273 265 215 165 157
13 298 290 235 180 172
14 323 315 255 195 187
15 348 340 275 210 202
16 373 365 295 225 217
17 398 390 315 240 232
18 423 415 335 255 247
19 448 440 355 270 262
20 473 465 375 285 277
21 505 495 400 305 295
22 544 532 430 329 317
23 581 569 460 351 339
24 633 617 500 383 367""".toStatisticsTable(
    tiers = listOf(StatTier.Extreme, StatTier.High, StatTier.Moderate, StatTier.Low, StatTier.Terrible)
) { it.toInt() }.toMutableMap()